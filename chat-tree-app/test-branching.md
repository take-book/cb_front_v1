# 分岐機能テスト手順

## テスト手順

1. アプリケーションを起動してログイン
2. 新しいチャットを作成
3. 最初のメッセージを送信（例: "こんにちは"）
4. AIの返答を受け取る
5. 2番目のメッセージを送信（例: "天気はどうですか？"）
6. AIの返答を受け取る
7. **ツリービューで最初のメッセージ（"こんにちは"）をクリック**
8. 新しいメッセージを送信（例: "元気ですか？"）
9. ブラウザのコンソールログを確認

## 期待される動作

- 手順7で最初のメッセージをクリックした時：
  - コンソールに `=== SELECT NODE ===` のログが表示される
  - `current_node_uuid` が最初のメッセージのUUIDに変更される

- 手順8で新しいメッセージを送信した時：
  - コンソールに `=== BEFORE SEND MESSAGE ===` のログが表示される
  - `Current node UUID` が最初のメッセージのUUIDになっている
  - 送信後、ツリー構造に分岐が作成される

## 確認事項

1. **コンソールログ**を開いて、以下を確認：
   - SELECT NODE のログ
   - BEFORE/AFTER SEND MESSAGE のログ
   - ツリー構造のJSON

2. **ツリービュー**で分岐が視覚的に表示されているか確認

3. **問題がある場合**：
   - どの時点でcurrent_node_uuidが変わっているか
   - エラーメッセージが出ていないか